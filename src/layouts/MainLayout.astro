---
import Header from '../components/Header.astro';
import SEO from '../components/SEO.astro';
import { getItem } from '../lib/data-store';
import '@fontsource/montserrat/400.css';
import '@fontsource/montserrat/500.css';
import '@fontsource/montserrat/600.css';
import '@fontsource/montserrat/700.css';
import '@fontsource/montserrat/800.css';
import '../styles/global.css';

interface Props {
  title: string;
  description?: string;
  image?: string;
  jsonLd?: any;
  sections?: Array<{id: string; title: string; icon: string; isActive: boolean}>;
}

const { title, description, image, jsonLd, sections = [] } = Astro.props;
const baseUrl = import.meta.env.BASE_URL;

const siteMeta = await getItem('site-meta.json', 'settings') || {};
---

<!DOCTYPE html>
<html lang="ru">
<head>
  <SEO title={title} description={description} image={image} jsonLd={jsonLd} />
  <!-- VERSION: 2026-01-28_V1 -->


  <!-- Favicons -->
  <link rel="icon" type="image/svg+xml" href={baseUrl + "my-favicon/favicon.svg"}>
  <link rel="shortcut icon" href={baseUrl + "my-favicon/favicon.ico"}>
  <link rel="apple-touch-icon" href={baseUrl + "my-favicon/apple-touch-icon.png"}>
  <link rel="manifest" href={baseUrl + "my-favicon/site.webmanifest"}>

  <!-- Fonts -->
  <!-- <link rel="preconnect" href="https://fonts.googleapis.com"> -->
  <!-- <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> -->
  <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap"> -->

  <!-- Icons -->
  <link rel="stylesheet" href={baseUrl + "fonts/remixicon/remixicon.css"}>

  <style is:global>
    @import 'tailwindcss';

    @theme {
      --color-action: #FF6400;
      --color-action-hover: #ea580c;
      --color-brand: #2D5F3E;
      --color-brand-hover: #1f422b;
      --color-dark: #1A2F5A;
      --aspect-card: 4 / 3;
    }

    /* Base Styles */
    @layer base {
      body {
        font-family: 'Montserrat', sans-serif;
        background-color: theme('colors.gray.50');
        color: theme('colors.gray.800');
      }

      a {
        text-decoration: none;
        color: inherit;
      }
    }

    /* Custom Component Styles */
    @layer components {
      .hero-section {
        @apply relative text-center overflow-hidden flex flex-col p-0 text-white;
      }

      .hero-bg {
        @apply absolute inset-0 z-0;
      }

      .hero-bg img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center 55%;
      }



      .hero-overlay {
        @apply absolute inset-0 bg-transparent;
      }

      .hero-text h1,
      .hero-text p {
        @apply text-white;
        text-shadow: 0 4px 12px rgba(0, 0, 0, 0.7);
      }

      .hero-content {
        position: relative;
        z-index: 10;
        max-width: var(--container-5xl, 64rem);
        margin-left: auto;
        margin-right: auto;
        width: 100%;
        flex: 1 1 0%;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding-top: 2rem; /* pt-8 equivalent */
        padding-bottom: 2.5rem; /* pb-10 equivalent */
        padding-left: 1rem;
        padding-right: 1rem;
      }



      .service-card {
        @apply transition-all duration-300;
      }

      .service-card.is-clickable {
        @apply cursor-pointer;
      }

      .service-card.is-open .service-short-desc {
        @apply mb-4;
      }

      .accordion-chevron {
        @apply transition-transform duration-300;
      }

      .service-card.is-open .accordion-chevron {
        @apply rotate-180;
      }

      .service-details-container {
        display: grid;
        grid-template-rows: 0fr;
        transition: grid-template-rows 300ms ease-out;
      }

      .service-card.is-open .service-details-container {
        grid-template-rows: 1fr;
      }

      .service-details-content {
        overflow: hidden;
      }

      .service-details-header {
        @apply font-bold text-base mt-5 mb-2 border-b border-gray-100 pb-1 text-dark;
      }

      .service-details-text {
        @apply mb-3 text-gray-600 text-[0.95rem];
      }

      .service-details-list {
        @apply list-none mb-4;
      }

      .service-details-list li {
        @apply relative pl-5 mb-1.5 text-[0.95rem] text-gray-600;
      }

      .service-details-list li::before {
        content: "\2022";
        position: absolute;
        left: 0;
        color: var(--color-action);
        font-weight: bold;
      }
    }

    .pt-20 { padding-top: 5rem; }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">
  <Header sections={sections} />
  <slot />

  <footer class="bg-gray-900 text-white py-6 text-center">
    <p>&copy; {siteMeta.copyrightYear || new Date().getFullYear()} Green Hill Tours. Все права защищены.</p>
    <p class="text-gray-400 text-sm mt-2">Муйне, Вьетнам | <span class="text-xs opacity-50">v1.3.0-lift20</span></p>



  </footer>
</body>
</html>