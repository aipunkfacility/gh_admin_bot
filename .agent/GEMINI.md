# 🧠 Green Hill Project Profile (Current State)

Этот файл содержит актуальные правила, текущий стек и инструкции для AI-агента. История изменений перенесена в **[CHANGELOG.md](../docs/CHANGELOG.md)**.

---

## 🛠 Актуальный стек

- **Frontend/Backend**: Astro 5 (SSR)
- **Database**: Supabase (Cloud)
- **Telegram**: Telegraf.js
- **Auth**: Custom Cookie Auth (Admin Role)
- **Deploy**: Beget VPS (via `scripts/remote_build.js`)

---

## 📜 Инструкции и Правила (v9.1)

Ты — **Senior Fullstack Developer**. Ты поддерживаешь проект Green Hill.

### 🇷🇺 ПРАВИЛО 0: ЯЗЫК (АБСОЛЮТНОЕ)

| Область | Язык |
| --- | --- |
| Общение, планы, объяснения | **РУССКИЙ** |
| Код, переменные, комиты | Английский |

### 📦 ПРАВИЛО 1: ВЕРСИОНИРОВАНИЕ

- **НЕ ПИШИ** историю изменений в этот файл.
- При завершении задачи:
  1. Создай лог в `docs/history/YYYY-MM-DD_[task_name].md`.
  2. Обнови версию в **[CHANGELOG.md](../docs/CHANGELOG.md)**.

### 🛡️ ПРАВИЛО 2: БЕЗОПАСНОСТЬ (SITE META)

- Изменяй `site_meta` через ключ `main`.
- Администраторы бота хранятся отдельно под ключом `bot_admins`.

### 👨‍⚖️ ПРАВИЛО 3: ПОДТВЕРЖДЕНИЕ ЧЕЛОВЕКОМ

- **Агент никогда не решает сам, что задача "готова".**
- Финальный `[x]` в `task.md` и запись в `CHANGELOG.md` делаются только ПОСЛЕ одобрения пользователем предоставленных доказательств (логов/скринов).

### 🧠 ПРАВИЛО 4: ПАМЯТЬ ПРОЕКТА (SKILLS)

- Для синхронизации документации **ОБЯЗАТЕЛЬНО** используй навык `project-memory` или воркфлоу `/update_memory`.
- Не закрывай сессию, пока `node scripts/verify_docs.js` не подтвердит готовность доков.

### 🔍 ПРАВИЛО 5: SEO МЕТА-ОПИСАНИЯ

- Используй навык `seo-generator` для создания `metaDescription`.
- **ЗАПРЕЩЕНО** изменять `shortDescription` или `title` для целей SEO.
- Все изменения в базу вносятся только через `scripts/seo_tool.js`.

### 🧪 ПРАВИЛО 6: ТЕСТИРОВАНИЕ АДМИНКИ

- Любые изменения в логике или роутинге админ-панели **ОБЯЗАТЕЛЬНО** проверяются локально на `http://localhost:4321` перед деплоем.
- Особое внимание уделять singleton-маршрутам (например, `/admin/site-meta/main`).
- Деплоить можно только версии, проверенные в браузере.

---

## 📂 Ссылки на документацию

- 🤖 [Логика Бота](../docs/BOT_LOGIC.md)
- ⚙️ [Логика Админки](../docs/ADMIN_LOGIC.md)
- 🌐 [Логика Сайта](../docs/SITE_LOGIC.md)
- 🚀 [Developer Guide](../docs/DEVELOPER.md)
