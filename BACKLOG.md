# üìã –ü—Ä–æ–µ–∫—Ç–Ω—ã–π –ë—ç–∫–ª–æ–≥ (Backlog)

**–°—Ç–∞—Ç—É—Å**: –û—á–µ—Ä–µ–¥—å –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (v2.0)

---

## üöÄ –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (Features)

### 2. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Supabase

- **–ü—Ä–∏—á–∏–Ω–∞**: –ü–æ–≤—ã—à–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏, Realtime –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
- **–ó–∞–¥–∞—á–∞**:
  - [ ] –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É —Ç–∞–±–ª–∏—Ü.
  - [ ] –ù–∞–ø–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ JSON.

---

## ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (Completed)

- [x] **Testing & Quality (v2.2)**:
  - [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è **Vitest**: –¢–µ—Å—Ç—ã –¥–ª—è `auth.ts` –∏ `utils.js` (–±–æ—Ç–∞) –ø—Ä–æ—Ö–æ–¥—è—Ç (15/15).
  - [x] **Bugfix**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è Markdown –≤ –±–æ—Ç–µ, –Ω–∞–π–¥–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç–∞–º–∏.
  - [x] **Lighthouse –ê—É–¥–∏—Ç**: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (62%+), SEO –∏ Accessibility –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã.
  - [x] **TypeScript Fix**: –û—Å—Ç–∞–≤—à–∏–µ—Å—è 100+ –æ—à–∏–±–æ–∫ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã (—Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: 0 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫–æ–≤).
- [x] **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∞—É–¥–∏—Ç –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—è (v2.1)**:
  - [x] –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ `any` —Ç–∏–ø–æ–≤ –≤ `[id].astro` –∏ `[...slug].astro`.
  - [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–µ–≤—å—é –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ –≤ –∞–¥–º–∏–Ω–∫–∏.
  - [x] –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ (Production Build pass).
- [x] **–†–µ–¥–∞–∫—Ç–æ—Ä –ø–æ—Å—Ç–æ–≤ –¥–ª—è –±–æ—Ç–∞**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –±–æ—Ç–∞ –∏–∑ –∞–¥–º–∏–Ω–∫–∏.
- [x] **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTPS (SSL)**:
  - [x] –í—ã–ø—É—â–µ–Ω —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç Let's Encrypt –¥–ª—è `greenhill-tours.ru`.
  - [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ HTTPS.
  - [x] –û–±–Ω–æ–≤–ª–µ–Ω `WEBHOOK_DOMAIN` –≤ `.env`.
- [x] **–î–µ–ø–ª–æ–π –Ω–∞ Beget**:
  - [x] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `src` –æ—á–∏—â–µ–Ω–∞ –æ—Ç JS/TS –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.
  - [x] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –≤–µ—Ç–∫–∞ `main` —Å GitHub.
  - [x] –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ PM2.
- [x] **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ Action Handlers**:
  - [x] –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `src/lib/bot/index.js` –∏ `scenes.js` –æ–±–µ—Ä–Ω—É—Ç—ã –≤ `wrapHandler`.
  - [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π `ctx.answerCbQuery()` –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫.
- [x] **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ü–∞–≥–∏–Ω–∞—Ü–∏–∏**:
  - [x] –õ–æ–≥–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ `buildPaginationKeyboard` –≤ `utils.js`.
  - [x] –ü—Ä–∏–º–µ–Ω–µ–Ω–æ –≤ `Transport`, `Excursions`, `Accommodations`.
- [x] **Graceful Shutdown**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `SIGINT`/`SIGTERM` —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –≤ TG.
- [x] **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¢–∏–ø–æ–≤ (Core)**:
  - [x] –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ü—É–±–ª–∏—á–Ω—ã—Ö —Å–µ–∫—Ü–∏–π (`Excursions`, `Transport`).
  - [x] –ú–∏–≥—Ä–∞—Ü–∏—è Admin API –Ω–∞ **TypeScript + Zod**.
- [x] **–û—á–∏—Å—Ç–∫–∞ –ø—É—Ç–µ–π (Path Fixes)**:
  - [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–ø–µ—á–∞—Ç–∫–∞ `servises` -> `services`.
  - [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –ø–∞–ø–∫–∏ (`rentals` -> `transport`).
  - [x] –û—Ç–µ–ª–∏ –≤—ã–Ω–µ—Å–µ–Ω—ã –∏–∑ `uploads` –≤ `hotels`.
